!function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){a(b,window,document)}):a(jQuery,window,document)}(function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.options=a.extend({},h,c),this._defaults=h,this.ns="."+f+g++,this.isGoodBrowser=Boolean(b.setSelectionRange),this._name=f,this.init()}var f="intlTelInput",g=1,h={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,onlyCountries:[],preferredCountries:["us","gb"],responsiveDropdown:!1,validationScript:""},i={UP:38,DOWN:40,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,ZERO:48,NINE:57,SPACE:32,BSPACE:8,DEL:46,CTRL:17,CMD1:91,CMD2:224},j=!1;a(b).load(function(){j=!0}),e.prototype={init:function(){this.options.nationalMode&&(this.options.autoFormat=this.options.autoHideDialCode=!1),navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Chrome/i)&&(this.options.autoFormat=!1),this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners()},_processCountryData:function(){this._setInstanceCountryData(),this._setPreferredCountries()},_setInstanceCountryData:function(){var b=this;if(this.options.onlyCountries.length){var c,d,e=[],f={};for(d=0;d<this.options.onlyCountries.length;d++){var g=this.options.onlyCountries[d],h=b._getCountryData(g,!0,!1);h&&(e.push(h),c=h.dialCode,f[c]?f[c].push(g):f[c]=[g])}for(c in f)if(f[c].length>1){var i=[];for(d=0;d<l[c].length;d++){var j=l[c][d];a.inArray(f[c],j)&&i.push(j)}f[c]=i}this.countries=e,this.countryCodes=f}else this.countries=k,this.countryCodes=l},_setPreferredCountries:function(){var a=this;this.preferredCountries=[];for(var b=0;b<this.options.preferredCountries.length;b++){var c=this.options.preferredCountries[b],d=a._getCountryData(c,!1,!0);d&&a.preferredCountries.push(d)}},_generateMarkup:function(){this.telInput=a(this.element),this.telInput.wrap(a("<div>",{class:"intl-tel-input"}));var b=a("<div>",{class:"flag-dropdown"}).insertAfter(this.telInput),c=a("<div>",{class:"selected-flag"}).appendTo(b);this.selectedFlagInner=a("<div>",{class:"flag"}).appendTo(c),a("<div>",{class:"arrow"}).appendTo(this.selectedFlagInner),this.countryList=a("<ul>",{class:"country-list v-hide"}).appendTo(b),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"preferred"),a("<li>",{class:"divider"}).appendTo(this.countryList)),this._appendListItems(this.countries,""),this.dropdownHeight=this.countryList.outerHeight(),this.countryList.removeClass("v-hide").addClass("hide"),this.options.responsiveDropdown&&this.countryList.outerWidth(this.telInput.outerWidth()),this.countryListItems=this.countryList.children(".country")},_appendListItems:function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];c+="<li class='country "+b+"' data-dial-code='"+e.dialCode+"' data-country-code='"+e.iso2+"'>",c+="<div class='flag "+e.iso2+"'></div>",c+="<span class='country-name'>"+e.name+"</span>",c+="<span class='dial-code'>+"+e.dialCode+"</span>",c+="</li>"}this.countryList.append(c)},_setInitialState:function(){var a=this.telInput.val();if(!a||!this.setNumber(a)){var b;b=this.options.defaultCountry?this._getCountryData(this.options.defaultCountry,!1,!1):this.preferredCountries.length?this.preferredCountries[0]:this.countries[0],this._selectFlag(b.iso2),this.options.autoHideDialCode||this._resetToDialCode(b.dialCode)}},_initListeners:function(){var d=this;this.options.autoHideDialCode&&this._initAutoHideDialCode();var e=this.telInput.closest("label");e.length&&e.on("click"+this.ns,function(a){d.countryList.hasClass("hide")?d.telInput.focus():a.preventDefault()}),this.options.autoFormat&&(this.telInput.on("keydown"+this.ns,function(a){a.which!=i.BSPACE&&a.which!=i.DEL||"+"!=d.telInput.val()||a.preventDefault()}),this.telInput.on("keypress"+this.ns,function(a){if(a.which>=i.SPACE){a.preventDefault();var b=a.which>=i.ZERO&&a.which<=i.NINE,c=d.telInput[0],e=d.isGoodBrowser&&c.selectionStart==c.selectionEnd;if(b||e){var f=b?String.fromCharCode(a.which):null;d._handleInputKey(f,!1)}}})),this.telInput.on("keyup"+this.ns,function(a){if(d.options.autoFormat){var b=a.which==i.CTRL||a.which==i.CMD1||a.which==i.CMD2,c=d.telInput[0],e=d.isGoodBrowser&&c.selectionStart==c.selectionEnd,f=d.isGoodBrowser&&c.selectionStart==d.telInput.val().length;if(a.which==i.DEL||a.which==i.BSPACE||b&&e){var g=a.which==i.BSPACE&&f;d._handleInputKey(null,g)}d.telInput.val()||d.telInput.val("+")}else d._updateFlag()});var f=this.selectedFlagInner.parent();if(f.on("click"+this.ns,function(){d.countryList.hasClass("hide")&&!d.telInput.prop("disabled")&&d._showDropdown()}),this.options.validationScript){var g=function(){var a=c.createElement("script");a.type="text/javascript",a.src=d.options.validationScript,c.body.appendChild(a)};j?g():a(b).load(g)}},_handleInputKey:function(a,b){var c=this.telInput.val(),d=null,e=!1,f=this.telInput[0];if(this.isGoodBrowser){var g=f.selectionEnd,h=c.length;e=g==h,a?(c=c.substring(0,f.selectionStart)+a+c.substring(g,h),e||(d=g+(c.length-h))):d=f.selectionStart}else a&&(c+=a);this.setNumber(c,b),this.isGoodBrowser&&(e&&(d=this.telInput.val().length),f.setSelectionRange(d,d))},_initAutoHideDialCode:function(){var b=this;this.telInput.on("mousedown"+this.ns,function(a){b.telInput.is(":focus")||b.telInput.val()||(a.preventDefault(),b._focus())}),this.telInput.on("focus"+this.ns,function(){a.trim(b.telInput.val())||(b._updateVal("+"+b.selectedCountryData.dialCode,!0),b.telInput.one("keypress.plus"+b.ns,function(a){a.which==i.PLUS&&b.telInput.val("+")}))}),this.telInput.on("blur"+this.ns,function(){var a=b.telInput.val(),c="+"==a.substring(0,1);if(c){var d=a.replace(/\D/g,"");d&&b._getDialCode().replace(/\D/g,"")!=d||b.telInput.val("")}b.telInput.off("keypress.plus"+b.ns)})},_focus:function(){this.telInput.focus();var a=this.telInput[0];if(this.isGoodBrowser){var b=this.telInput.val().length;a.setSelectionRange(b,b)}},_showDropdown:function(){this._setDropdownPosition();var a=this.countryList.children(".active");this._highlightListItem(a),this.countryList.removeClass("hide"),this._scrollTo(a),this._bindDropdownListeners(),this.selectedFlagInner.children(".arrow").addClass("up")},_setDropdownPosition:function(){var c=this.telInput.offset().top,d=a(b).scrollTop(),e=c+this.telInput.outerHeight()+this.dropdownHeight<d+a(b).height(),f=c-this.dropdownHeight>d,g=!e&&f?"-"+(this.dropdownHeight-1)+"px":"";this.countryList.css("top",g)},_bindDropdownListeners:function(){var b=this;this.countryList.on("mouseover"+this.ns,".country",function(){b._highlightListItem(a(this))}),this.countryList.on("click"+this.ns,".country",function(){b._selectListItem(a(this))});var d=!0;a("html").on("click"+this.ns,function(){d||b._closeDropdown(),d=!1});var e="",f=null;a(c).on("keydown"+this.ns,function(a){a.preventDefault(),a.which==i.UP||a.which==i.DOWN?b._handleUpDownKey(a.which):a.which==i.ENTER?b._handleEnterKey():a.which==i.ESC?b._closeDropdown():(a.which>=i.A&&a.which<=i.Z||a.which==i.SPACE)&&(f&&clearTimeout(f),e+=String.fromCharCode(a.which),b._searchForCountry(e),f=setTimeout(function(){e=""},1e3))})},_handleUpDownKey:function(a){var b=this.countryList.children(".highlight").first(),c=a==i.UP?b.prev():b.next();c.length&&(c.hasClass("divider")&&(c=a==i.UP?c.prev():c.next()),this._highlightListItem(c),this._scrollTo(c))},_handleEnterKey:function(){var a=this.countryList.children(".highlight").first();a.length&&this._selectListItem(a)},_searchForCountry:function(a){for(var b=0;b<this.countries.length;b++)if(this._startsWith(this.countries[b].name,a)){var c=this.countryList.children("[data-country-code="+this.countries[b].iso2+"]").not(".preferred");this._highlightListItem(c),this._scrollTo(c,!0);break}},_startsWith:function(a,b){return a.substr(0,b.length).toUpperCase()==b},_updateVal:function(a,b,c){var d,e="";if(this.options.autoFormat){if(d=a.replace(/\D/g,""),b){var f=this.selectedCountryData.format;if(f)for(var g=0;g<f.length;g++)if("."==f[g]){if(!d)break;if(e+=d.substring(0,1),d=d.substring(1),!d&&c)break}else e+=f[g]}e||"+"!=a.substring(0,1)||(e="+")}else d=a;this.telInput.val(e+d)},_updateFlag:function(a){var b=this._getDialCode(a);if(b){for(var c=this.countryCodes[b.replace(/\D/g,"")],d=!1,e=0;e<c.length;e++)this.selectedFlagInner.hasClass(c[e])&&(d=!0);d||this._selectFlag(c[0])}return b},_resetToDialCode:function(a){var b=this.options.nationalMode?"":"+"+a;this.telInput.val(b)},_highlightListItem:function(a){this.countryListItems.removeClass("highlight"),a.addClass("highlight")},_getCountryData:function(a,b,c){for(var d=b?k:this.countries,e=0;e<d.length;e++)if(d[e].iso2==a)return d[e];if(c)return null;throw new Error("No country data for '"+a+"'")},_selectFlag:function(a){this.selectedFlagInner.attr("class","flag "+a),this.selectedCountryData=this._getCountryData(a,!1,!1);var b=this.selectedCountryData.name+": +"+this.selectedCountryData.dialCode;this.selectedFlagInner.parent().attr("title",b);var c=this.countryListItems.children(".flag."+a).first().parent();this.countryListItems.removeClass("active"),c.addClass("active")},_selectListItem:function(a){var b=a.attr("data-country-code");this._selectFlag(b),this._closeDropdown(),this.options.nationalMode||(this._updateDialCode("+"+a.attr("data-dial-code")),this.telInput.trigger("change")),this._focus()},_closeDropdown:function(){this.countryList.addClass("hide"),this.selectedFlagInner.children(".arrow").removeClass("up"),a(c).off(this.ns),a("html").off(this.ns),this.countryList.off(this.ns)},_scrollTo:function(a,b){var c=this.countryList,d=c.height(),e=c.offset().top,f=e+d,g=a.outerHeight(),h=a.offset().top,i=h+g,j=h-e+c.scrollTop(),k=d/2-g/2;if(e>h)b&&(j-=k),c.scrollTop(j);else if(i>f){b&&(j+=k);var l=d-g;c.scrollTop(j-l)}},_updateDialCode:function(b){var c,d=this.telInput.val(),e=this._getDialCode();if(e.length>1)c=d.replace(e,b);else{var f=d&&"+"!=d.substr(0,1)?a.trim(d):"";c=b+f}this._updateVal(c,!0)},_getDialCode:function(b){var c="",d=b||this.telInput.val();if("+"==d.charAt(0))for(var e="",f=0;f<d.length;f++){var g=d.charAt(f);if(a.isNumeric(g)&&(e+=g,this.countryCodes[e]&&(c=d.substring(0,f+1)),4==e.length))break}return c},destroy:function(){this._closeDropdown(),this.telInput.off(this.ns),this.selectedFlagInner.parent().off(this.ns),this.telInput.closest("label").off(this.ns);var a=this.telInput.parent();a.before(this.telInput).remove()},getSelectedCountryData:function(){return this.selectedCountryData},isValidNumber:function(c){var d=a.trim(this.telInput.val()),e=c?this.selectedCountryData.iso2:"",f=/[a-zA-Z]/.test(d);return!f&&b.isValidNumber(d,e)},selectCountry:function(a){this.selectedFlagInner.hasClass(a)||(this._selectFlag(a),this.telInput.val()||this.options.autoHideDialCode||this._resetToDialCode(this.selectedCountryData.dialCode))},setNumber:function(a,b){var c=this._updateFlag(a);return this._updateVal(a,c,b),c}},a.fn[f]=function(b){var c=arguments;if(b===d||"object"==typeof b)return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))});if("string"==typeof b&&"_"!==b[0]&&"init"!==b){var g;return this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(g=d[b].apply(d,Array.prototype.slice.call(c,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),g!==d?g:this}},a.fn[f].getCountryData=function(){return k},a.fn[f].setCountryData=function(a){k=a};for(var k=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61","+.. ... ... ..."],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32","+.. ... .. .. .."],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1","+. (...) ...-....",1],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86","+.. ..-........"],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506","+... ....-...."],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45","+.. .. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1809"],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503","+... ....-...."],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358","+... .. ... .. .."],["France","fr","33","+.. . .. .. .. .."],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49","+.. ... ......."],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","+... ....-...."],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","+... ....-...."],["Honduras","hn","504"],["Hong Kong (香港)","hk","852","+... .... ...."],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354","+... ... ...."],["India (भारत)","in","91","+.. .....-....."],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353","+... .. ......."],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39","+.. ... ......"],["Jamaica","jm","1876"],["Japan (日本)","jp","81","+.. ... .. ...."],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7","+. ... ...-..-..",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","+.. ..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212"],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31","+.. .. ........"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64","+.. ...-...-...."],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47","+.. ... .. ..."],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92","+.. ...-......."],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63","+.. ... ...."],["Poland (Polska)","pl","48","+.. ...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1787"],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262"],["Romania (România)","ro","40"],["Russia (Россия)","ru","7","+. ... ...-..-..",0],["Rwanda","rw","250"],["Saint Barthélemy (Saint-Barthélemy)","bl","590","",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590","",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","+.. ....-...."],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34","+.. ... ... ..."],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41","+.. .. ... .. .."],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90","+.. ... ... .. .."],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44","+.. .... ......"],["United States","us","1","+. (...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","379"],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],l={},m=0;m<k.length;m++){var n=k[m];k[m]={name:n[0],iso2:n[1],dialCode:n[2]},n[3]&&(k[m].format=n[3]),n[2]in l||(l[n[2]]=[]);var o=n[4]||0;l[n[2]][o]=n[1]}});
(function(){var $,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1};$=jQuery;$.fn.validateCreditCard=function(callback,options){var card,card_type,card_types,get_card_type,is_valid_length,is_valid_luhn,normalize,validate,validate_number,_i,_len,_ref,_ref1;card_types=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[16]},{name:"mastercard",pattern:/^5[1-5]/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]}];if(options==null){options={}}if((_ref=options.accept)==null){options.accept=function(){var _i,_len,_results;_results=[];for(_i=0,_len=card_types.length;_i<_len;_i++){card=card_types[_i];_results.push(card.name)}return _results}()}_ref1=options.accept;for(_i=0,_len=_ref1.length;_i<_len;_i++){card_type=_ref1[_i];if(__indexOf.call(function(){var _j,_len1,_results;_results=[];for(_j=0,_len1=card_types.length;_j<_len1;_j++){card=card_types[_j];_results.push(card.name)}return _results}(),card_type)<0){throw"Credit card type '"+card_type+"' is not supported"}}get_card_type=function(number){var _j,_len1,_ref2;_ref2=function(){var _k,_len1,_ref2,_results;_results=[];for(_k=0,_len1=card_types.length;_k<_len1;_k++){card=card_types[_k];if(_ref2=card.name,__indexOf.call(options.accept,_ref2)>=0){_results.push(card)}}return _results}();for(_j=0,_len1=_ref2.length;_j<_len1;_j++){card_type=_ref2[_j];if(number.match(card_type.pattern)){return card_type}}return null};is_valid_luhn=function(number){var digit,n,sum,_j,_len1,_ref2;sum=0;_ref2=number.split("").reverse();for(n=_j=0,_len1=_ref2.length;_j<_len1;n=++_j){digit=_ref2[n];digit=+digit;if(n%2){digit*=2;if(digit<10){sum+=digit}else{sum+=digit-9}}else{sum+=digit}}return sum%10===0};is_valid_length=function(number,card_type){var _ref2;return _ref2=number.length,__indexOf.call(card_type.valid_length,_ref2)>=0};validate_number=function(number){var length_valid,luhn_valid;card_type=get_card_type(number);luhn_valid=false;length_valid=false;if(card_type!=null){luhn_valid=is_valid_luhn(number);length_valid=is_valid_length(number,card_type)}return callback({card_type:card_type,luhn_valid:luhn_valid,length_valid:length_valid})};validate=function(){var number;number=normalize($(this).val());return validate_number(number)};normalize=function(number){return number.replace(/[ -]/g,"")};this.bind("input",function(){$(this).unbind("keyup");return validate.call(this)});this.bind("keyup",function(){return validate.call(this)});if(this.length!==0){validate.call(this)}return this}}).call(this);
(function($){$.fn.showLoginOverlay=function($form,type){var $tutGridItem=$(".tutor-grid-item.active").length?$(".tutor-grid-item.active"):$(".tutor-card-item.active");$tutGridItem.addClass("openOverlay");var $loginOverlay=$("div.login-overlay");$loginOverlay.addClass("open");$("body,html").css({overflow:"hidden",height:"100%"});if($("#fixed-top-content").length){$("#fixed-top-content").hide()}var subject=$form.find('[data-type="topic"]').text().length>0?$form.find('[data-type="topic"]').text():"none";var day=$form.find(".responsive-calendar").find(".day.clicked a").attr("data-day");var month=$form.find(".responsive-calendar").find("[data-head-month]").html();var year=$form.find(".responsive-calendar").find(".day.clicked a").attr("data-year");var startTime=$form.find("select[data-type=start-time]").find(":selected").text();var endTime=$form.find("select[data-type=end-time]").find(":selected").text();var dataToBeUppended="";var userEmail=$form.find('[data-type="email"]').val();dataToBeUppended+='<ul class="list-unstyled login-overlay-tutor-info">';dataToBeUppended+="<li>Subject: <span>"+subject+"</span></li>";dataToBeUppended+="<li>Date: <span>"+month+" "+day+", "+year+"</span></li>";dataToBeUppended+="<li>Time: <span>"+startTime.replace("✓","")+" - "+endTime.replace("✓","")+"</span></li>";dataToBeUppended+="</ul>";if($(".login-overlay.open").length){if(type==="card"){$loginOverlay.find(".selected-tutor-info").hide();$loginOverlay.find(".selected-tutor-info").html($tutGridItem.html());$loginOverlay.find(".selected-tutor-info").find(".tutor-grid-item-data,.tutor-card-item-data").removeClass("tutor-grid-item-data tutor-card-item-data").addClass("tutor-item");$loginOverlay.find(".anchor-top").css("height","auto");$loginOverlay.find(".anchor-bottom").html("").css("height","auto");$loginOverlay.find(".tutor-actions").remove();$loginOverlay.find(".contact-tutor-button").remove();$loginOverlay.find(".anchor-bottom").append(dataToBeUppended).removeClass("modified");setTimeout(function(){$loginOverlay.find(".anchor-bottom").css({height:$(".login-overlay-tutor-info").outerHeight(true)+15,top:"-35px"});$loginOverlay.find(".tutor-item").height($loginOverlay.find(".anchor-top").outerHeight()+$loginOverlay.find(".anchor-bottom").outerHeight()-30)},50)}else{$loginOverlay.find(".selected-tutor-info").hide();var $header=$("#tutor-public-profile-header");var tutorImg=$header.find(".tutor-picture").html();var tutorName=$header.find(".tutor-name").html();var tutInfo="";if($header.find(".tutor-education").length){tutInfo=$header.find(".tutor-education").text().split(",")}else if($header.find(".tutor-profession").length){tutInfo=$header.find(".tutor-profession").text().split(",")}tutInfo=tutInfo[0];var $selectedTutor=$loginOverlay.find(".selected-tutor-info");$selectedTutor.html('<div class="tutor-item"></div>');$selectedTutor.find(".tutor-item").html('<div class="anchor-top"></div><div class="anchor-bottom"></div>');$selectedTutor.find(".anchor-top").append('<div class="tutor-picture center-block">'+tutorImg+"</div>");$selectedTutor.find(".img-thumbnail").removeClass("img-thumbnail");$selectedTutor.find(".anchor-top").append('<h3 class="tutor-name">'+tutorName+"</h3>");$selectedTutor.find(".anchor-top").append('<div class="tutor-job-position">'+tutInfo+"</div>");$selectedTutor.find(".anchor-bottom").append(dataToBeUppended);setTimeout(function(){$selectedTutor.find(".tutor-item").height($selectedTutor.find(".anchor-top").height()+$selectedTutor.find(".anchor-bottom").height())},100)}$loginOverlay.find(".selected-tutor-info").fadeIn();$.ajax({url:Routing.generate("skooli_login"),method:"POST",success:function(response){$loginOverlay.find("form").remove();$loginOverlay.find(".login-ajax-content").append(response);setTimeout(function(){$loginOverlay.find("#email").val(userEmail)},10);var $loginOverlayForm=$loginOverlay.find("form");$loginOverlayForm.on("submit",function(e){e.preventDefault();if($loginOverlayForm.valid()){$.ajax({url:$loginOverlayForm.attr("action"),method:"POST",data:$loginOverlayForm.serializeArray(),beforeSend:function(){$loginOverlayForm.find("button").attr("disabled",true)},success:function(response){if(response.status==true){$tutGridItem.removeClass("openOverlay");noty({text:response.message,type:"success",layout:"topCenter",timeout:1.5*1e3,callback:{onClose:function(){window.location.reload()}}})}else{noty({text:["Maybe your password is incorrect!!"],type:"error",layout:"topCenter",timeout:3*1e3});$loginOverlayForm.find("button").attr("disabled",false)}}})}});$loginOverlayForm.validate({rules:{"#email":{required:true,email:true},"#password":{required:true}},errorPlacement:function(error,element){return true},highlight:function(element,errorClass){$(element).addClass("isnotvalid")},unhighlight:function(element,errorClass){$(element).removeClass("isnotvalid")}})}})}}})(jQuery);(function($){$.fn.showSignUpOverlay=function($form,typeOfSchedule){var $tutGridItem=$(".tutor-grid-item.active").length?$(".tutor-grid-item.active"):$(".tutor-card-item.active");$tutGridItem.addClass("openOverlay");var $signupOverlay=$("div.signup-overlay");$signupOverlay.addClass("open");$("body,html").css({overflow:"hidden",height:"100%"});if($("#fixed-top-content").length){$("#fixed-top-content").hide()}var subject=$form.find('[data-type="topic"]').text().length>0?$form.find('[data-type="topic"]').text():"none";var day=$form.find(".responsive-calendar").find(".day.clicked a").attr("data-day");var month=$form.find(".responsive-calendar").find("[data-head-month]").html();var year=$form.find(".responsive-calendar").find(".day.clicked a").attr("data-year");var startTime=$form.find("select[data-type=start-time]").find(":selected").text();var endTime=$form.find("select[data-type=end-time]").find(":selected").text();var dataToBeUppended="";var userEmail=$form.find('[data-type="email"]').val();dataToBeUppended+='<ul class="list-unstyled signup-overlay-tutor-info">';dataToBeUppended+="<li>Subject: <span>"+subject+"</span></li>";dataToBeUppended+="<li>Date: <span>"+month+" "+day+", "+year+"</span></li>";dataToBeUppended+="<li>Time: <span>"+startTime.replace("✓","")+" - "+endTime.replace("✓","")+"</span></li>";dataToBeUppended+="</ul>";if($(".signup-overlay.open").length){if(typeOfSchedule==="card"){$signupOverlay.find(".selected-tutor-info").hide();$signupOverlay.find(".selected-tutor-info").html($tutGridItem.html());$signupOverlay.find(".selected-tutor-info").find(".tutor-grid-item-data,.tutor-card-item-data").removeClass("tutor-grid-item-data tutor-card-item-data").addClass("tutor-item");$signupOverlay.find(".anchor-top").css("height","auto");$signupOverlay.find(".anchor-bottom").html("").css("height","auto");$signupOverlay.find(".tutor-actions").remove();$signupOverlay.find(".contact-tutor-button").remove();$signupOverlay.find(".anchor-bottom").append(dataToBeUppended).removeClass("modified");setTimeout(function(){$signupOverlay.find(".anchor-bottom").css({height:$(".signup-overlay-tutor-info").outerHeight(true)+15,top:"-35px"});$signupOverlay.find(".tutor-item").height($signupOverlay.find(".anchor-top").outerHeight()+$signupOverlay.find(".anchor-bottom").outerHeight()-30)},50);$tutGridItem.removeClass("active")}else{$signupOverlay.find(".selected-tutor-info").hide();var $header=$("#tutor-public-profile-header");var tutorImg=$header.find(".tutor-picture").html();var tutorName=$header.find(".tutor-name").html();var tutInfo="";if($header.find(".tutor-education").length){tutInfo=$header.find(".tutor-education").text().split(",")}else if($header.find(".tutor-profession").length){tutInfo=$header.find(".tutor-profession").text().split(",")}tutInfo=tutInfo[0];var $selectedTutor=$signupOverlay.find(".selected-tutor-info");$selectedTutor.html('<div class="tutor-item"></div>');$selectedTutor.find(".tutor-item").html('<div class="anchor-top"></div><div class="anchor-bottom"></div>');$selectedTutor.find(".anchor-top").append('<div class="tutor-picture center-block">'+tutorImg+"</div>");$selectedTutor.find(".img-thumbnail").removeClass("img-thumbnail");$selectedTutor.find(".anchor-top").append('<h3 class="tutor-name">'+tutorName+"</h3>");$selectedTutor.find(".anchor-top").append('<div class="tutor-job-position">'+tutInfo+"</div>");$selectedTutor.find(".anchor-bottom").append(dataToBeUppended);setTimeout(function(){$selectedTutor.find(".tutor-item").height($selectedTutor.find(".anchor-top").height()+$selectedTutor.find(".anchor-bottom").height())},100)}$signupOverlay.find(".selected-tutor-info").fadeIn();var stdPath=Routing.generate("skooli.register.student");var prtPath=Routing.generate("skooli.register.parent");$.ajax({url:stdPath,method:"GET",success:function(response){$signupOverlay.find("form").remove();$signupOverlay.find("#signup-overlay-form-collapse").append(response);formFunctionality(stdPath)}});$signupOverlay.find(".user-type").find("#student").on("change",function(){if($(this).is(":checked")){$signupOverlay.find(".user-type").find("#parent").prop("checked",false);$.ajax({url:stdPath,method:"GET",success:function(response){$signupOverlay.find("form").remove();$signupOverlay.find("#signup-overlay-form-collapse").append(response);formFunctionality(stdPath)}})}});$signupOverlay.find(".user-type").find("#parent").on("change",function(){if($(this).is(":checked")){$signupOverlay.find(".user-type").find("#student").prop("checked",false);$.ajax({url:prtPath,method:"GET",success:function(response){$signupOverlay.find("form").remove();$signupOverlay.find("#signup-overlay-form-collapse").append(response);formFunctionality(prtPath)}})}});function formFunctionality(formPath){setTimeout(function(){$signupOverlay.find("#email").val(userEmail)},10);$signupOverlay.find("#email").on("change",function(){if($signupOverlay.find("#email").valid()){$.ajax({url:Routing.generate("check_user_email",{token:$signupOverlay.find("#email").val()}),method:"POST",success:function(res){if(res.status==false){$signupOverlay.find("#email").parent().find("#email-error").remove();$signupOverlay.find("#email").parent().append('<label id="email-error" class="error" for="email">'+res.message+"</label>");$signupOverlay.find('button[type="submit"]').attr("disabled",true)}else{$signupOverlay.find('button[type="submit"]').attr("disabled",false)}},error:function(response){noty({text:["Something went wrong!"],type:"error",layout:"topCenter",timeout:5*1e3})}})}});var $signUpOverlayForm=$signupOverlay.find("form");$signUpOverlayForm.attr("action",formPath);$.validator.addMethod("regex",function(value,element,regexp){var re=new RegExp(regexp);return this.optional(element)||re.test(value)},"Use numbers and letters at least 6 characters. No special characters are accepted.");$.validator.addMethod("checkEmail",function(value,element){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var reg="+";var newVal=value.split("@");return this.optional(element)||re.test(value)&&newVal[0].indexOf(reg)<0},"Please enter a valid email address.");$signUpOverlayForm.on("submit",function(e){e.preventDefault();if($signUpOverlayForm.valid()){$.ajax({url:$signUpOverlayForm.attr("action"),method:"POST",data:$signUpOverlayForm.serializeArray(),beforeSend:function(){$signupOverlay.find("form").find("button").attr("disabled",true)},success:function(response){if(response){$tutGridItem.removeClass("openOverlay");$signupOverlay.find(".update-with-forms").html("");$signupOverlay.find(".update-with-forms").append(response);var turn=$signupOverlay.find("form").find("div.step-turn").data("turn");var type=$signupOverlay.find("form").find("div.step-turn").data("type");manageForms(turn,type)}else{noty({text:response.message,type:"error",layout:"topCenter",timeout:5*1e3});$signupOverlay.find("form").find("button").attr("disabled",false)}}})}});$signUpOverlayForm.validate({rules:{"fos_user_registration_form[email]":{required:true,email:true,checkEmail:true},"fos_user_registration_form[plainPassword][first]":{required:true,regex:".*[0-9]+.*",minlength:6},"fos_user_registration_form[plainPassword][second]":{required:true,regex:".*[0-9]+.*",equalTo:$signUpOverlayForm.find("#password"),minlength:6},"checkout[address][zip]":{maxlength:9}},messages:{"fos_user_registration_form[plainPassword][second]":{equalTo:"Passwords don't match."}},errorPlacement:function(error,element){error.appendTo(element.parent().after())},highlight:function(element,errorClass){$(element).addClass("isnotvalid")},unhighlight:function(element,errorClass){$(element).removeClass("isnotvalid")}})}function manageForms(turn,type){switch(turn){case 1:signUpStep1();break;case 2:$.fn.loadStripe();signUpStep2(type);break;default:break}}function ajaxStepChange(step){$.ajax({url:Routing.generate("user_registration_step",{step:step}),type:"GET",success:function(data){if(data.status===true){console.log("done")}}})}function signUpStep1(){if($("#fixed-top-content").length){$("#fixed-top-content").hide()}$("a.navbar-brand").attr("href",Routing.generate("fos_user_security_logout"));var $signupOverlay=$("div.signup-overlay");var $signupContent=$signupOverlay.find(".update-with-forms");var $form=$signupOverlay.find("form");$signupContent.find("label.col-sm-3").removeClass("col-sm-3");$form.find('label[for="skooli_student_newsletter"]').wrap('<div class="btn-group" data-toggle="buttons"></div>');$form.find('label[for="skooli_student_newsletter"]').addClass("btn btn-default").append('<span class="glyphicon glyphicon-ok"></span>');$form.find('label[for="skooli_parent_newsletter"]').wrap('<div class="btn-group" data-toggle="buttons"></div>');$form.find('label[for="skooli_parent_newsletter"]').addClass("btn btn-default").append('<span class="glyphicon glyphicon-ok"></span>');$form.find(".skooli-intl-tel-input").intlTelInput({defaultCountry:"ca",dialCodeDelimiter:" "});$("#skooli_student_birthdate_year").selectize();$("#skooli_student_birthdate_month").selectize();$("#skooli_student_birthdate_day").selectize();$("#skooli_student_studentData_gradeLevel").selectize();$form.find('label[for="skooli_parent_overNineteen"]').wrap('<div class="btn-group" data-toggle="buttons"></div>');$form.find('label[for="skooli_parent_overNineteen"]').addClass("btn btn-default");$form.find('label[for="skooli_parent_overNineteen"]').closest('[data-toggle="buttons"]').append("<p>"+$.trim($form.find('label[for="skooli_parent_overNineteen"]').text())+"</p>");$form.find('label[for="skooli_parent_overNineteen"]').html($form.find('label[for="skooli_parent_overNineteen"]').closest('[data-toggle="buttons"]').find('input[type="checkbox"]')).append('<span class="glyphicon glyphicon-ok"></span>');if($('[id*="_address_zip"]:not( .error )').length){var $zipInput=$('[id*="_address_zip"]:not( .error )');var $countrySelect=$('[id*="_address_country"]:not( .error )');$zipInput.on("change",function(){if($(this).val()&&$countrySelect.val()){$.ajax({url:Routing.generate("zip_validation",{zip:$zipInput.val(),countryId:$countrySelect.val()}),method:"POST",success:function(res){if(res.status==false){noty({text:res.message,type:"error",layout:"topCenter",timeout:3*1e3})}},error:function(err){console.log(err)}})}})}var tz=jstz.determine();if($("#skooli_student_timezone").length){$("#skooli_student_timezone").selectize();$("#skooli_student_timezone").get(0).selectize.setValue(tz.name())}if($("#skooli_parent_timezone").length){$("#skooli_parent_timezone").selectize();$("#skooli_parent_timezone").get(0).selectize.setValue(tz.name())}$("#skooli_student_preferences_favoriteTopics").selectize({plugins:["remove_button"],placeholder:"Subject",delimiter:",",persist:false,onItemAdd:function(){this.close()}});var $schoolName="";if($("#skooli_student_studentData_institution").length){$schoolName=$("#skooli_student_studentData_institution")}if($("#skooli_parent_studentData_institution").length){$schoolName=$("#skooli_parent_studentData_institution")}var instVal=$schoolName.val();var $select=$schoolName.selectize({preload:false,create:true,maxItems:1,valueField:"id",labelField:"name",searchField:["name"],sortField:"name",addOption:[instVal],load:function(query,callback){if(query.length<3)return callback();$.ajax({url:Routing.generate("institution_suggestion",{query:query},true),type:"GET",error:function(){callback()},success:function(res){callback(res)}})}});var $country=$form.find('[id*="address_country"]');$country.selectize({placeholder:"Country",onItemAdd:function(value,$item){this.close();setTimeout(function(){if($item.text()=="Canada"){$(".auto-hide").show()}else{$(".auto-hide").hide()}},100)}});var $zone=$form.find('[id*="address_zone"]');$zone.selectize({placeholder:"Province"});$zone.get(0).selectize.disable();setTimeout(function(){$zone.parent().find("div.item").text("Province")},500);if($country.length){countryUpdateFollowUp($country,$zone)}$country.change(function(){if($('[id*="_address_zip"]:not( .error )').length){$('[id*="_address_zip"]:not( .error )').trigger("change")}countryUpdateFollowUp($country,$zone);return false});function countryUpdateFollowUp($countryInput,$zoneInput){var $contactNumberInput=$('[id*="contactNumber"]');var val=$countryInput.val();if(!val){$zoneInput.prop("disabled",true);return}$zoneInput.prop("disabled",false);var countryURL=Routing.generate("country_ajax_call",{cid:val});$.ajax({type:"GET",url:countryURL,success:function(data){if($zoneInput.hasClass("selectized")){$zoneInput.get(0).selectize.destroy()}$zoneInput.html("");$.each(data[0],function(k,v){$zoneInput.append('<option value="'+k+'">'+v+"</option>")});$zoneInput.selectize({selectOnTab:true,placeholder:"Zone"});$zoneInput.parent().find(".selectize-input").find("input").css({opacity:0,position:"absolute",left:-1e4});if($contactNumberInput.length){$contactNumberInput.closest(".col-sm-12").find("label.error").remove();$contactNumberInput.intlTelInput("destroy");$contactNumberInput.intlTelInput();$contactNumberInput.intlTelInput("selectCountry",data[1][0])}}})}$form.on("submit",function(e){e.preventDefault();if($form.valid()){$.ajax({url:$form.attr("action"),method:"POST",data:$form.serializeArray(),beforeSend:function(){$form.find('button[type="submit"]').attr("disabled",true)},success:function(response){if(response){$signupOverlay.find(".update-with-forms").html("");$signupOverlay.find(".update-with-forms").append(response);var turn=$signupOverlay.find("form").find("div.step-turn").data("turn");var type=$signupOverlay.find("form").find("div.step-turn").data("type");manageForms(turn,type)}else{noty({text:response.message,type:"error",layout:"topCenter",timeout:5*1e3});$form.find('button[type="submit"]').attr("disabled",false)}}})}});$.validator.addMethod("addressLength",function(value,element,param){var addressLength=$('[id*="streetAddressOne"]').val().length+$('[id*="streetAddressTwo"]').val().length;if(addressLength<=30){return true}else{return false}},"Please enter no more than 30 characters for your street address.");$form.validate({ignore:":hidden:not(.selectized)",rules:{"skooli_student[firstname]":{required:true,maxlength:20},"skooli_student[lastname]":{required:true,maxlength:20},"skooli_parent[firstname]":{required:true,maxlength:20},"skooli_parent[lastname]":{required:true,maxlength:20},"skooli_student[contactNumber]":{required:true,minlength:6},"skooli_parent[contactNumber]":{required:true,minlength:6}},onfocusout:function(element){if($(element).valid()){if($(element).parent().hasClass("selectize-input")){$(element).parent().parent().next("label.error").remove()}}},errorPlacement:function(error,element){if($(element).attr("id")=="skooli_student_contactNumber"||$(element).attr("id")=="skooli_parent_contactNumber"){error.appendTo(element.parent().parent().after())}else if($(element).attr("id")=="skooli_parent_overNineteen"){error.appendTo($(element).closest(".is-parent-checkbox").next())}else{error.appendTo(element.parent().after())}},highlight:function(element,errorClass){$(element).addClass("isnotvalid");$(element).siblings(".selectize-control").find(".selectize-input").addClass("isnotvalid")},unhighlight:function(element,errorClass){$(element).removeClass("isnotvalid");$(element).siblings(".selectize-control").find(".selectize-input").addClass("isnotvalid")},messages:{"skooli_student[contactNumber]":{required:"Please enter at least 6 characters.",minlength:"Please enter at least 6 characters."},"skooli_parent[contactNumber]":{required:"Please enter at least 6 characters.",minlength:"Please enter at least 6 characters."}}});if($('[id*="streetAddressOne"]').length){$('[id*="streetAddressOne"]').rules("add",{addressLength:true})}if($('[id*="streetAddressTwo"]').length){$('[id*="streetAddressTwo"]').on("change",function(){$('[id*="streetAddressOne"]').valid()})}if($('[id*="contactNumber"]').length){$form.find('[id*="contactNumber"]').rules("add",{required:true,minlength:6})}if($('[id*="address_zip"]').length){$form.find('[id*="address_zip"]').rules("add",{maxlength:9})}function changeLogo(){var navbarImgSrcDefault="/bundles/skoolicore/images/svg/logo.svg";var navbarImgSrcWhite="/bundles/skoolicore/images/logo_white.png";var $navbarBrand=$(".navbar-brand");var $navbarBrandImg=$navbarBrand.find("img");var $checkScroll=$(".update-with-forms");$signupOverlay.scroll(function(){var distance=$checkScroll.offset().top;if($(window).width()>768){if(distance<100){$navbarBrandImg.attr("src",navbarImgSrcWhite);$navbarBrandImg.css({height:"auto",paddingTop:"6px"})}else{$navbarBrandImg.attr("src",navbarImgSrcDefault);$navbarBrandImg.css({height:"auto",paddingTop:"0"})}}})}changeLogo();ajaxStepChange("2.1")}function signUpStep2(type){var PAYASGOID=32;if($("#skooli-products").length){var $products=$("#skooli-products");PAYASGOID=$products.find('.product[data-product-min="0"]').data("product-id");console.log("Pay as you Go Id",PAYASGOID)}$("a.navbar-brand").attr("href",Routing.generate("fos_user_security_logout"));var $signupOverlay=$("div.signup-overlay");var $signupContent=$signupOverlay.find(".update-with-forms");var $form=$signupOverlay.find("form");$form.find("#checkout_credit_card_NameOnCard").attr("required",true);$form.find("#checkout_credit_card_CCV").attr("required",true);$form.find("#checkout_credit_card_CreditCard").attr("required",true);$form.find(".selectize-input").addClass("required");$signupContent.find("label.col-sm-3").removeClass("col-sm-3");$signupContent.find(".radio").addClass("radio-primary");var $itemParent=$signupContent.find(".price-select");$.each($itemParent,function(){$(this).find(".radio").prepend($(this).find('input[type="radio"]'));$(this).find("label").find("input").remove()});$itemParent.find('input[type="radio"]').off().on("click",function(){ajaxStepChange("2.2")});var productCookie=$.cookie("product");if(productCookie){$("#checkout_product_"+productCookie).prop("checked",true)}function creditCardInfo(coupon,spc,productId){var $wrapper=$("#billing-credit-card-content");var country=$wrapper.find(".credit-card-info-auto-update").data("country");$.ajax({url:Routing.generate("get_product_tax_total"),data:{coupon:coupon,spc:spc,product:productId},beforeSend:function(){$wrapper.find(".credit-card-info-auto-update").html('<div class="skl-btn-loading"></div>')},success:function(response){var text="";if(country=="Canada"){text+='<div class="subtotal"> Subtotal: '+response.currency+parseFloat(response.subtotal,10).toFixed(2)+"</div>";text+='<div class="hst"> HST: '+response.currency+parseFloat(response.tax,10).toFixed(2)+"</div>";text+='<div class="total"> Total: '+response.currency+parseFloat(response.total,10).toFixed(2)+"</div>";text+='<div><i class="fa fa-asterisk" aria-hidden="true" style="font-size: 9px; position: relative; top: -2px;"></i> All charges are in CAD</div>'}else{text+='<div class="total"> Total: '+response.currency+parseFloat(response.total,10).toFixed(2)+"</div>"}$wrapper.find(".credit-card-info-auto-update").html(text)},error:function(response){console.log(response)}})}if($("#checkout_product").length){var plan=PAYASGOID;if(localStorage.getItem("savePlanProductId")!==null){var savedData=JSON.parse(localStorage.getItem("savePlanProductId"));plan=savedData.planId;if(plan!=PAYASGOID){$signupContent.find("#skooli-products").fadeIn("slow",function(){$signupContent.find("#hide-on-show-plans").fadeOut("fast")})}}if(plan==PAYASGOID){$signupContent.find(".spc-code").find("p.title").attr("disabled",true);$signupContent.find(".spc-code").parent().find(".has-spc").slideUp("fast");$signupContent.find(".spc-code").find("input").val("");$signupContent.find(".spc-code").find("i.fa").removeClass("fa-check fa-times");$signupContent.find(".spc-code").find("p.success, p.warning").remove()}creditCardInfo("","",plan);$signupContent.find("#checkout_product_"+plan).attr("checked",true);$signupContent.find('.product[data-product-id="'+plan+'"]').addClass("selected");var dataCouponObject={couponValue:$("#coupon_input").val()};localStorage.setItem("coupon",JSON.stringify(dataCouponObject))}if($("#show-plans").length){$("#show-plans").off().on("click",function(){$signupContent.find("#skooli-products").fadeToggle("slow")})}var couponValid=null;var spcValid=null;$form.find("#coupon_input").on("focusout",function(){var $coupon=$(".coupon");var couponText=$("#coupon_input").val();var selectedPlan=$("#checkout_product").find(":checked").val();if(couponText.length>0){if(couponValid!=null){couponValid.abort()}var icon='<i class="fa form-control-feedback"></i>';couponValid=$.ajax({url:Routing.generate("check_coupon_product",{data:couponText,product:selectedPlan}),method:"POST",success:function(res){if(!$coupon.find("i.form-control-feedback").length){$coupon.append(icon)}if(res.status==true){$coupon.find("i.fa").addClass("fa-check").removeClass("fa-times");$coupon.find("p").remove();$coupon.append('<p class="success">'+res.msg+"</p>");var $cardContainer=$("#billing-credit-card-content");var productId=$form.find("#checkout_product").find('input[type="radio"]:checked').val();var couponVal=$cardContainer.find("#coupon_input").is(":visible")?$cardContainer.find("#coupon_input").val():"";creditCardInfo(couponVal,"",productId)}else{$coupon.find("i.fa").addClass("fa-times").removeClass("fa-check");$coupon.find("p").remove();$coupon.append('<p class="warning">'+res.msg+"</p>");$coupon.find("i.fa-times").on("click",function(){$form.find("#coupon_input").val("");$coupon.find("i.form-control-feedback").remove();$coupon.find("p").remove()})}},error:function(response){console.log("something went wrong")}})}else{$coupon.find("i.fa").removeClass("fa-check fa-times");$coupon.find("p").remove()}});if(type=="parent"){$form.find(".spc").closest(".form-group.row").hide()}$form.find("#spc_card").on("focusout",function(){var $spc=$form.find(".spc");var spcVal=$form.find("#spc_card").val();if(spcVal.length>0&&$form.find("#spc_card").valid()){if(spcValid!=null){spcValid.abort()}var icon='<i class="fa form-control-feedback"></i>';spcValid=$.ajax({url:Routing.generate("student_card_check",{data:spcVal}),method:"POST",success:function(res){if(!$spc.find("i.form-control-feedback").length){$spc.append(icon)}if(res.status==true){$spc.find("i.fa").addClass("fa-check").removeClass("fa-times");$spc.find("p").remove();$spc.append('<p class="success">'+res.msg+"</p>");$form.find("#coupon_input").val("");var $cardContainer=$("#billing-credit-card-content");var productId=$form.find("#checkout_product").find('input[type="radio"]:checked').val();var spcValue=$cardContainer.find("#spc_card").is(":visible")?$cardContainer.find("#spc_card").val():"";creditCardInfo("",spcValue,productId)}else{$spc.find("i.fa").addClass("fa-times").removeClass("fa-check");$spc.find("p").remove();$spc.append('<p class="warning">'+res.msg+"</p>");$spc.find("i.fa-times").on("click",function(){$form.find("#spc_card").val("");$spc.find("i.form-control-feedback").remove();$spc.find("p").remove()})}},error:function(response){console.log("something went wrong")}})}else{$spc.find("i.fa").removeClass("fa-check fa-times");$spc.find("p").remove()}});if($("#skooli-products").length){var $wrapper=$("#skooli-products");var $realProducts=$wrapper.find("#real-products");var $products=$wrapper.find(".product");var $cardContainer=$("#billing-credit-card-content");if(localStorage.getItem("savePlanProductId")!==null){var savedData=JSON.parse(localStorage.getItem("savePlanProductId"));setTimeout(function(){var $selectedProduct=$wrapper.find('.product[data-product-id="'+savedData.planId+'"]');$selectedProduct.trigger("click")},500)}$products.off().on("click",function(){var $that=$(this);var productId=$that.data("product-id");var couponValue="";if($cardContainer.find("#coupon_input").val()!=""){couponValue=$cardContainer.find("#coupon_input").val()}else if(localStorage.getItem("coupon")!==null){var savedData=JSON.parse(localStorage.getItem("coupon"));couponValue=savedData.couponValue}var dataCouponObject={couponValue:couponValue};localStorage.setItem("coupon",JSON.stringify(dataCouponObject));$wrapper.find(".product").removeClass("selected");$that.addClass("selected");var dataObject={planId:productId};localStorage.setItem("savePlanProductId",JSON.stringify(dataObject));$realProducts.find("input").removeAttr("checked");$realProducts.find("#checkout_product_"+productId).prop("checked",true);if(couponValid!=null){couponValid.abort();$cardContainer.find(".coupon").find("i.fa").removeClass("fa-check fa-times");$cardContainer.find(".coupon").find("p").remove()}if(spcValid!=null){spcValid.abort();$cardContainer.find(".spc-code").find("i.fa").removeClass("fa-check fa-times");$cardContainer.find(".spc-code").find("p.success, p.warning").remove()}if(productId===PAYASGOID){$cardContainer.find(".spc-code").find("p.title").attr("disabled",true);$cardContainer.find(".spc-code").find("input").val("");$cardContainer.find(".spc-code").find("i.fa").removeClass("fa-check fa-times");$cardContainer.find(".spc-code").find("p.success, p.warning").remove();$cardContainer.find(".spc-code").parent().find(".has-spc").slideUp("fast");$signupContent.find("#hide-on-show-plans").fadeIn("fast");if($cardContainer.find(".custom-checkbox ").is(":visible")){$cardContainer.find(".custom-checkbox").hide()}if($cardContainer.find("#coupon_input").val().trim().length>0){$cardContainer.find(".coupon-code").find("p.title").attr("disabled",false);$cardContainer.find(".coupon-code").parent().find(".coupon").slideDown("fast")}$cardContainer.find(".coupon-code").find("i.fa").removeClass("fa-check fa-times");$cardContainer.find(".coupon-code").find("p.success, p.warning").remove()}else{$cardContainer.find("#coupon_input").val(couponValue);$cardContainer.find(".spc-code").find("p.title").attr("disabled",false);$cardContainer.find(".spc-code").find("input").val("");$cardContainer.find(".spc-code").find("i.fa").removeClass("fa-check fa-times");$cardContainer.find(".spc-code").find("p.success, p.warning").remove();$cardContainer.find(".spc-code").parent().find(".has-spc").slideUp("fast");if($cardContainer.find("#coupon_input").val().trim().length>0){$cardContainer.find(".coupon-code").find("p.title").attr("disabled",false);$cardContainer.find(".coupon-code").parent().find(".coupon").slideDown("fast")}$cardContainer.find(".coupon-code").find("i.fa").removeClass("fa-check fa-times");$cardContainer.find(".coupon-code").find("p.success, p.warning").remove();$signupContent.find("#hide-on-show-plans").fadeOut("fast");if(!$cardContainer.find(".custom-checkbox ").is(":visible")){$cardContainer.find(".custom-checkbox").show()}}var spcValue=$cardContainer.find("#spc_card").is(":visible")?$cardContainer.find("#spc_card").val():"";var couponVal=$cardContainer.find("#coupon_input").is(":visible")?$cardContainer.find("#coupon_input").val():"";creditCardInfo(couponVal,spcValue,productId)})}$form.find('label[for="checkout_same_billing_details"]').wrap('<div class="btn-group" data-toggle="buttons"></div>');$form.find('label[for="checkout_same_billing_details"]').addClass("btn btn-default active");$form.find('label[for="checkout_same_billing_details"]').closest('[data-toggle="buttons"]').append("<p>"+$.trim($form.find('label[for="checkout_same_billing_details"]').text())+"</p>");$form.find('label[for="checkout_same_billing_details"]').html($form.find('label[for="checkout_same_billing_details"]').closest('[data-toggle="buttons"]').find('input[type="checkbox"]')).append('<span class="glyphicon glyphicon-ok"></span>');if($("#checkout_autorenew").length){var isChecked=$("#checkout_autorenew").is(":checked");$('form[name="checkout"]').find('label[for="checkout_autorenew"]').wrap('<div class="btn-group" data-toggle="buttons"></div>');$('form[name="checkout"]').find('label[for="checkout_autorenew"]').addClass("btn btn-default");if(isChecked){$('form[name="checkout"]').find('label[for="checkout_autorenew"]').addClass("active")}$('form[name="checkout"]').find('label[for="checkout_autorenew"]').closest('[data-toggle="buttons"]').append("<p>"+$.trim($('form[name="checkout"]').find('label[for="checkout_autorenew"]').text())+"</p>");$('form[name="checkout"]').find('label[for="checkout_autorenew"]').html($('form[name="checkout"]').find('label[for="checkout_autorenew"]').closest('[data-toggle="buttons"]').find('input[type="checkbox"]')).append('<i class="fa fa-check"></i>');$(".custom-checkbox").find("p").off().on("click",function(){if($(this).parent().find("input").is(":checked")){$(this).parent().find("input").prop("checked",false);$(this).parent().find("label").toggleClass("active");$(this).parent().find("input").trigger("change")}else{$(this).parent().find("input").prop("checked",true);$(this).parent().find("label").toggleClass("active");$(this).parent().find("input").trigger("change")}})}if($signupContent.find(".coupon-code").length){$signupContent.find(".coupon-code").find("p.title").off().on("click",function(){if($(this).parent().find(".coupon").is(":visible")){$(this).parent().find(".coupon").slideUp("fast");if(!$signupContent.find("#checkout_product_"+PAYASGOID).prop("checked")){$signupContent.find(".spc-code").find("p.title").attr("disabled",false)}$signupContent.find(".spc-code").find("input").val("");$signupContent.find(".spc-code").find("i.fa").removeClass("fa-check fa-times");$signupContent.find(".spc-code").find("p.success, p.warning").remove()}else{$signupContent.find(".spc-code").find("p.title").attr("disabled",true);$signupContent.find(".spc-code").parent().find(".has-spc").slideUp("fast");$(this).parent().find(".coupon").slideDown("fast");if(localStorage.getItem("coupon")!==null&&JSON.parse(localStorage.getItem("coupon")).couponValue!=""){$signupContent.find(".coupon-code").find("input").removeAttr("placeholder");$signupContent.find(".coupon-code").find("input").val(JSON.parse(localStorage.getItem("coupon")).couponValue);setTimeout(function(){$signupContent.find(".coupon-code").find("input").trigger("focusout")},200)}}})}if($signupContent.find(".spc-code").length){$signupContent.find(".spc-code").find("p.title").off().on("click",function(){if($(this).parent().find(".has-spc").is(":visible")){$(this).parent().find(".has-spc").slideUp("fast");$signupContent.find(".coupon-code").find("p.title").attr("disabled",false)}else{$signupContent.find(".coupon-code").find("p.title").attr("disabled",true);$signupContent.find(".coupon-code").parent().find(".coupon").slideUp("fast");$(this).parent().find(".has-spc").slideDown("fast")}})}var $cc_input=$form.find("#checkout_credit_card_CreditCard");var $cc_helper=$form.find("#card-type-helper");var ccIsValid=false;$cc_input.validateCreditCard(function(result){if(result.card_type){var helperHtml;if(result.card_type.iconPath){helperHtml='<img src="'+result.card_type.iconPath+'" alt="'+result.card_type.name+'" />'}else{helperHtml=result.card_type.name}$cc_helper.html(helperHtml);if(result.luhn_valid&&result.length_valid){$cc_helper.addClass("valid");ccIsValid=true}else{$cc_helper.removeClass("valid");ccIsValid=false}}else{$cc_helper.html("");ccIsValid=false}});$form.find("#billing-address-input-group").toggle();$form.find("#checkout_same_billing_details").change(function(){var $that=$(this);$form.find("#billing-address-input-group").toggle();$("#billing-address-input-group :input").each(function(){$(this).prop("disabled",!$that.val());$(this).prop("required",!$that.val())})});function stripeFormSubmit(e){e.preventDefault();var $form=$(e.target);var $cNumber=$form.find("#checkout_credit_card_CreditCard");var $cHolder=$form.find("#checkout_credit_card_NameOnCard");var $cExpirationMonth=$form.find("#checkout_credit_card_Month");var check_month=$cExpirationMonth.val().slice(0,2);if(check_month[0]==0){$cExpirationMonth.val(check_month[1])}var $cExpirationYear=$form.find("#checkout_credit_card_Year");var $cCVC=$form.find("#checkout_credit_card_CCV");function handleStripeReq(status,response){var $form=$signupOverlay.find("form");if(response.error){$("#billing-credit-card-content").sklValidationResults({status:"error",errorMessages:[response.error.message],persistMessages:true,persistenceTimeout:5e3});$form.find('button[type="submit"]').attr("disabled",false)}else{var token='<input type="hidden" name="stripeToken" value="'+response.id+'" />';if(!$form.find('[name="stripeToken"]').length){$form.append(token)}else{$form.find('[name="stripeToken"]').val(response.id)}$form.find('input:visible:not([id="coupon_input"], [id="spc_card"])').prop("disabled",true);$form.find("#checkout_credit_card_CreditCard").prop("disabled",true);var $cc_input=$form.find("#checkout_credit_card_CreditCard");var $cc_clone=$cc_input.clone();$cc_input.hide();$cc_input.parent().append($cc_clone);$cc_clone.val($cc_input.val().replace(/ /g,""));$cc_clone.attr("name","cc_clone");$cc_clone.prop("disabled",true);$cc_input.val($cc_input.val().replace(/ /g,""));var check_month=$form.find("#checkout_credit_card_Month").val().slice(0,2);if(check_month[0]==0){$form.find("#checkout_credit_card_Month").val(check_month[1])}var savedData=JSON.parse(localStorage.getItem("scheduleForm"));savedData.fallBackUrl=window.location.href;localStorage.setItem("scheduleForm",JSON.stringify(savedData));$.ajax({url:$form.attr("action"),method:"POST",data:$form.serializeArray(),beforeSend:function(){$form.find('button[type="submit"]').attr("disabled",true)},success:function(response){console.log(response);if(response.status==true){var newStepUrl="";switch(response.type){case"Student":newStepUrl=response.url;break;case"parent":newStepUrl=response.url;break;default:break}$.ajax({url:newStepUrl,method:"GET",success:function(response){if(response.status==true){$tutGridItem.removeClass("openOverlay");setTimeout(function(){window.location.href=Routing.generate("ajax_registration_success")},1e3)}else{noty({text:response.error,type:"error",layout:"topCenter",timeout:5*1e3});$form.find('button[type="submit"]').attr("disabled",false)}}})}else{$cc_input.show(200,function(){$(this).val("");$(this).validateCreditCard(function(data){verifyCard=data})});$cc_input.parent().find('[name="cc_clone"]').remove();noty({text:response.error,type:"error",layout:"topCenter",timeout:5*1e3});$form.find('button[type="submit"]').attr("disabled",false);$form.find("input:visible").prop("disabled",false)}}})}}function getUserAddress(){return $.get(Routing.generate("user_billing_data"))}$.when(getUserAddress()).done(function(response){var strForm="";strForm+="<form>";strForm+='<input type="text" size="20" data-stripe="number" value="'+$cNumber.val().replace(/ /g,"")+'" />';strForm+='<input type="text" size="2" data-stripe="name" value="'+$cHolder.val()+'" />';strForm+='<input type="text" size="2" data-stripe="exp_month" value="'+$cExpirationMonth.val()+'" />';strForm+='<input type="text" size="2" data-stripe="exp_year" value="'+$cExpirationYear.val()+'" />';strForm+='<input type="text" size="4" data-stripe="cvc" value="'+$cCVC.val()+'" />';strForm+='<input type="text" size="4" data-stripe="address_city" value="'+response.address_city+'" />';strForm+='<input type="text" size="4" data-stripe="address_country" value="'+response.address_country+'" />';strForm+='<input type="text" size="4" data-stripe="address_line1" value="'+response.address_line1+'" />';strForm+='<input type="text" size="4" data-stripe="address_state" value="'+response.address_state+'" />';strForm+='<input type="text" size="4" data-stripe="address_zip" value="'+response.address_zip+'" />';strForm+="</form>";Stripe.card.createToken($(strForm),handleStripeReq)});return false}$form.on("submit",function(e){e.preventDefault();if($form.valid()){var $card=$form.find("#checkout_credit_card_CreditCard");var verifyCard="";$card.validateCreditCard(function(data){verifyCard=data});if(verifyCard.length_valid==false||verifyCard.luhn_valid==false){$("#billing-credit-card-content").sklValidationResults({status:"error",errorMessages:["Please provide a valid Credit Card"],persistMessages:true,persistenceTimeout:4500});if($(".status-update").length){setTimeout(function(){$(".status-update").fadeOut("fast",function(){$(".status-update").remove()})},15e3)}$form.find("input:visible").prop("disabled",false);return false}else{stripeFormSubmit(e)}}});var elementIds=["checkout_credit_card_Month","checkout_credit_card_Year","checkout_credit_card_CCV","checkout_credit_card_CreditCard","checkout_credit_card_NameOnCard"];$.validator.addMethod("regex",function(value,element,regexp){var re=new RegExp(regexp);return this.optional(element)||re.test(value)},"Please enter only digits.");$form.validate({ignore:":hidden:not(.selectized)",focusInvalid:false,onfocusout:function(element){if($(element).valid()){if($(element).parent().hasClass("selectize-input")){$(element).parent().parent().next("label.error").remove()}}},invalidHandler:function(e,validator){var invalidElements=[];for(var i=0;i<validator.errorList.length;i++){var element=$("#"+validator.errorList[i].element.id).parent().find("label").text();var elementMsg=validator.errorList[i].message;if($.inArray(element+": "+elementMsg,invalidElements)==-1){invalidElements.push(element+": "+elementMsg)}}$("#billing-credit-card-content").sklValidationResults({status:"error",errorMessages:invalidElements,persistMessages:false,shouldSlideContainer:false,persistenceTimeout:2e4})},errorPlacement:function(error,element){if($.inArray($(element).attr("id"),elementIds)>=0){return true}else if($(element).attr("id")=="checkout_contactNumber"){error.insertAfter(element.parent())}else{error.appendTo(element.parent().after())}},highlight:function(element,errorClass){$(element).addClass("isnotvalid");$(element).siblings(".selectize-control").find(".selectize-input").addClass("isnotvalid")},unhighlight:function(element,errorClass){$(element).removeClass("isnotvalid");$(element).siblings(".selectize-control").find(".selectize-input").addClass("isnotvalid")},messages:{"checkout[credit_card][CreditCard]":{maxlength:"Please enter no more than 16 characters."}}});$form.find("#checkout_credit_card_Month").rules("add",{required:true,maxlength:2,digits:true});$form.find("#checkout_credit_card_Year").rules("add",{required:true,maxlength:2,digits:true});$form.find("#checkout_credit_card_NameOnCard").rules("add",{required:true});$form.find("#checkout_credit_card_CCV").rules("add",{required:true,digits:true,maxlength:4,minlength:3});$form.find("#checkout_credit_card_CreditCard").rules("add",{required:true,regex:"[0-9 ]+$",maxlength:19});if($("#spc_card").length){$form.find("#spc_card").rules("add",{maxlength:16,number:true,required:false})}function changeLogo(){var navbarImgSrcDefault="/bundles/skoolicore/images/svg/logo.svg";var navbarImgSrcWhite="/bundles/skoolicore/images/logo_white.png";var $navbarBrand=$(".navbar-brand");var $navbarBrandImg=$navbarBrand.find("img");var $checkScroll=$(".update-with-forms");$signupOverlay.scroll(function(){var distance=$checkScroll.offset().top;if($(window).width()>768){if(distance<100){$navbarBrandImg.attr("src",navbarImgSrcWhite);$navbarBrandImg.css({height:"auto",paddingTop:"6px"})}else{$navbarBrandImg.attr("src",navbarImgSrcDefault);$navbarBrandImg.css({height:"auto",paddingTop:"0"})}}})}changeLogo()}}}})(jQuery);