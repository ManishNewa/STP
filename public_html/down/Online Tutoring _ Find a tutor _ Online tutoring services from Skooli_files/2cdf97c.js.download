$.fn.makeFixed=function(options){var sel=$(this).selector;var el;var elc;var elAttr;var defOpts={defTopPos:"0px",defZIndex:1e4};var attr={cIsFixed:"data-mfx-is-fixed",cPosition:"data-mfx-current-position",cTop:"data-mfx-current-top",cZIndex:"data-mfx-current-zindex",fTop:"data-mfx-top",fAtPos:"data-mfx-fix-at",fTopPos:"data-mfx-top-position"};var clearAttr=function(element){$(element).removeAttr(" "+attr.cTop+" "+attr.cZIndex)};$(window).scroll(function(e){var scrolled=$(window).scrollTop();$(sel).each(function(){el=$(this);elc=this;if(!el.attr(attr.cPosition))el.attr(attr.cPosition,el.css("position"));if(!el.attr(attr.cTop))el.attr(attr.cTop,el.css("top"));if(!el.attr(attr.cZIndex))el.attr(attr.cZIndex,el.css("z-index"));if(!el.attr(attr.fAtPos))el.attr(attr.fAtPos,el.offset().top);if(el.attr(attr.fAtPos)<=scrolled){el.attr(attr.cIsFixed,1);el.css({position:"fixed",top:el.attr(attr.fTopPos)?el.attr(attr.fTopPos)+"px":defOpts.defTopPos,zIndex:defOpts.defZIndex})}else{el.attr(attr.cIsFixed,0);el.css({position:el.attr(attr.cPosition),top:el.attr(attr.cTop),zIndex:el.attr(attr.cZIndex)});clearAttr(elc)}if(el.attr(attr.cIsFixed)==1&&options&&options.onFixed&&typeof options.onFixed=="function")options.onFixed(elc);if(el.attr(attr.cIsFixed)==0&&options&&options.onUnFixed&&typeof options.onUnFixed=="function")options.onUnFixed(elc);$(window).off("orientationchange").on("orientationchange",function(){el.css({position:el.attr(attr.cPosition),top:el.attr(attr.cTop),zIndex:el.attr(attr.cZIndex)});clearAttr(elc)})})})};
(function(){var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1)return data[i].identity}else if(dataProp)return data[i].identity}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();window.$.client={os:BrowserDetect.OS,browser:BrowserDetect.browser}})();